From d977616a53715f5d76b0eb60dba4421a7c1077da Mon Sep 17 00:00:00 2001
From: Georg Lehmann <dadschoorse@gmail.com>
Date: Thu, 27 Feb 2020 12:03:32 +0100
Subject: [PATCH] winevulkan: implement cas scaling in fshack

---
 dlls/winevulkan/vulkan.c         | 390 ++++++++++++++++++++++++++-----
 dlls/winevulkan/vulkan_private.h |   3 +
 dlls/winex11.drv/settings.c      |  11 +
 dlls/winex11.drv/vulkan.c        |   5 +-
 dlls/winex11.drv/x11drv.h        |   1 +
 include/wine/vulkan_driver.h     |   2 +-
 6 files changed, 352 insertions(+), 60 deletions(-)

diff --git a/dlls/winevulkan/vulkan.c b/dlls/winevulkan/vulkan.c
index 63665fb7a6f..79df165fb12 100644
--- a/dlls/winevulkan/vulkan.c
+++ b/dlls/winevulkan/vulkan.c
@@ -1267,7 +1267,7 @@ VkResult WINAPI wine_vkGetPhysicalDeviceSurfaceCapabilitiesKHR(VkPhysicalDevice
         capabilities->maxImageCount = 32;
 
     if(vk_funcs->query_fs_hack &&
-            vk_funcs->query_fs_hack(NULL, &user_res, NULL, NULL)){
+            vk_funcs->query_fs_hack(NULL, &user_res, NULL, NULL, NULL)){
         capabilities->currentExtent = user_res;
         capabilities->minImageExtent = user_res;
         capabilities->maxImageExtent = user_res;
@@ -1375,73 +1375,345 @@ void main()
 {
     vec2 texcoord = (vec2(gl_GlobalInvocationID.xy) - constants.offset) / constants.extents;
     vec4 c = texture(texSampler, texcoord);
-    imageStore(outImage, ivec2(gl_GlobalInvocationID.xy), c.bgra);
+    imageStore(outImage, ivec2(gl_GlobalInvocationID.xy), c);
 }
 */
 const uint32_t blit_comp_spv[] = {
-	0x07230203,0x00010000,0x00080006,0x00000037,0x00000000,0x00020011,0x00000001,0x0006000b,
-	0x00000001,0x4c534c47,0x6474732e,0x3035342e,0x00000000,0x0003000e,0x00000000,0x00000001,
-	0x0006000f,0x00000005,0x00000004,0x6e69616d,0x00000000,0x0000000d,0x00060010,0x00000004,
-	0x00000011,0x00000008,0x00000008,0x00000001,0x00030003,0x00000002,0x000001c2,0x00040005,
-	0x00000004,0x6e69616d,0x00000000,0x00050005,0x00000009,0x63786574,0x64726f6f,0x00000000,
-	0x00080005,0x0000000d,0x475f6c67,0x61626f6c,0x766e496c,0x7461636f,0x496e6f69,0x00000044,
-	0x00060005,0x00000012,0x68737570,0x736e6f43,0x746e6174,0x00000073,0x00050006,0x00000012,
-	0x00000000,0x7366666f,0x00007465,0x00050006,0x00000012,0x00000001,0x65747865,0x0073746e,
-	0x00050005,0x00000014,0x736e6f63,0x746e6174,0x00000073,0x00030005,0x00000021,0x00000063,
-	0x00050005,0x00000025,0x53786574,0x6c706d61,0x00007265,0x00050005,0x0000002c,0x4974756f,
-	0x6567616d,0x00000000,0x00040047,0x0000000d,0x0000000b,0x0000001c,0x00050048,0x00000012,
-	0x00000000,0x00000023,0x00000000,0x00050048,0x00000012,0x00000001,0x00000023,0x00000008,
-	0x00030047,0x00000012,0x00000002,0x00040047,0x00000025,0x00000022,0x00000000,0x00040047,
-	0x00000025,0x00000021,0x00000000,0x00040047,0x0000002c,0x00000022,0x00000000,0x00040047,
-	0x0000002c,0x00000021,0x00000001,0x00030047,0x0000002c,0x00000019,0x00040047,0x00000036,
-	0x0000000b,0x00000019,0x00020013,0x00000002,0x00030021,0x00000003,0x00000002,0x00030016,
-	0x00000006,0x00000020,0x00040017,0x00000007,0x00000006,0x00000002,0x00040020,0x00000008,
-	0x00000007,0x00000007,0x00040015,0x0000000a,0x00000020,0x00000000,0x00040017,0x0000000b,
-	0x0000000a,0x00000003,0x00040020,0x0000000c,0x00000001,0x0000000b,0x0004003b,0x0000000c,
-	0x0000000d,0x00000001,0x00040017,0x0000000e,0x0000000a,0x00000002,0x0004001e,0x00000012,
-	0x00000007,0x00000007,0x00040020,0x00000013,0x00000009,0x00000012,0x0004003b,0x00000013,
-	0x00000014,0x00000009,0x00040015,0x00000015,0x00000020,0x00000001,0x0004002b,0x00000015,
-	0x00000016,0x00000000,0x00040020,0x00000017,0x00000009,0x00000007,0x0004002b,0x00000015,
-	0x0000001b,0x00000001,0x00040017,0x0000001f,0x00000006,0x00000004,0x00040020,0x00000020,
-	0x00000007,0x0000001f,0x00090019,0x00000022,0x00000006,0x00000001,0x00000000,0x00000000,
-	0x00000000,0x00000001,0x00000000,0x0003001b,0x00000023,0x00000022,0x00040020,0x00000024,
-	0x00000000,0x00000023,0x0004003b,0x00000024,0x00000025,0x00000000,0x0004002b,0x00000006,
-	0x00000028,0x00000000,0x00090019,0x0000002a,0x00000006,0x00000001,0x00000000,0x00000000,
-	0x00000000,0x00000002,0x00000004,0x00040020,0x0000002b,0x00000000,0x0000002a,0x0004003b,
-	0x0000002b,0x0000002c,0x00000000,0x00040017,0x00000030,0x00000015,0x00000002,0x0004002b,
-	0x0000000a,0x00000034,0x00000008,0x0004002b,0x0000000a,0x00000035,0x00000001,0x0006002c,
-	0x0000000b,0x00000036,0x00000034,0x00000034,0x00000035,0x00050036,0x00000002,0x00000004,
-	0x00000000,0x00000003,0x000200f8,0x00000005,0x0004003b,0x00000008,0x00000009,0x00000007,
-	0x0004003b,0x00000020,0x00000021,0x00000007,0x0004003d,0x0000000b,0x0000000f,0x0000000d,
-	0x0007004f,0x0000000e,0x00000010,0x0000000f,0x0000000f,0x00000000,0x00000001,0x00040070,
-	0x00000007,0x00000011,0x00000010,0x00050041,0x00000017,0x00000018,0x00000014,0x00000016,
-	0x0004003d,0x00000007,0x00000019,0x00000018,0x00050083,0x00000007,0x0000001a,0x00000011,
-	0x00000019,0x00050041,0x00000017,0x0000001c,0x00000014,0x0000001b,0x0004003d,0x00000007,
-	0x0000001d,0x0000001c,0x00050088,0x00000007,0x0000001e,0x0000001a,0x0000001d,0x0003003e,
-	0x00000009,0x0000001e,0x0004003d,0x00000023,0x00000026,0x00000025,0x0004003d,0x00000007,
-	0x00000027,0x00000009,0x00070058,0x0000001f,0x00000029,0x00000026,0x00000027,0x00000002,
-	0x00000028,0x0003003e,0x00000021,0x00000029,0x0004003d,0x0000002a,0x0000002d,0x0000002c,
-	0x0004003d,0x0000000b,0x0000002e,0x0000000d,0x0007004f,0x0000000e,0x0000002f,0x0000002e,
-	0x0000002e,0x00000000,0x00000001,0x0004007c,0x00000030,0x00000031,0x0000002f,0x0004003d,
-	0x0000001f,0x00000032,0x00000021,0x0009004f,0x0000001f,0x00000033,0x00000032,0x00000032,
-	0x00000002,0x00000001,0x00000000,0x00000003,0x00040063,0x0000002d,0x00000031,0x00000033,
-	0x000100fd,0x00010038
+    0x07230203, 0x00010000, 0x00080008, 0x00000036, 0x00000000, 0x00020011, 0x00000001, 0x0006000B, 0x00000001,
+    0x4C534C47, 0x6474732E, 0x3035342E, 0x00000000, 0x0003000E, 0x00000000, 0x00000001, 0x0006000F, 0x00000005,
+    0x00000004, 0x6E69616D, 0x00000000, 0x0000000D, 0x00060010, 0x00000004, 0x00000011, 0x00000008, 0x00000008,
+    0x00000001, 0x00030003, 0x00000002, 0x000001C2, 0x00040005, 0x00000004, 0x6E69616D, 0x00000000, 0x00080005,
+    0x0000000D, 0x475F6C67, 0x61626F6C, 0x766E496C, 0x7461636F, 0x496E6F69, 0x00000044, 0x00060005, 0x00000012,
+    0x68737570, 0x736E6F43, 0x746E6174, 0x00000073, 0x00050006, 0x00000012, 0x00000000, 0x7366666F, 0x00007465,
+    0x00050006, 0x00000012, 0x00000001, 0x65747865, 0x0073746E, 0x00050005, 0x00000014, 0x736E6F63, 0x746E6174,
+    0x00000073, 0x00050005, 0x00000025, 0x53786574, 0x6C706D61, 0x00007265, 0x00050005, 0x0000002C, 0x4974756F,
+    0x6567616D, 0x00000000, 0x00040047, 0x0000000D, 0x0000000B, 0x0000001C, 0x00050048, 0x00000012, 0x00000000,
+    0x00000023, 0x00000000, 0x00050048, 0x00000012, 0x00000001, 0x00000023, 0x00000008, 0x00030047, 0x00000012,
+    0x00000002, 0x00040047, 0x00000025, 0x00000022, 0x00000000, 0x00040047, 0x00000025, 0x00000021, 0x00000000,
+    0x00040047, 0x0000002C, 0x00000022, 0x00000000, 0x00040047, 0x0000002C, 0x00000021, 0x00000001, 0x00030047,
+    0x0000002C, 0x00000019, 0x00040047, 0x00000035, 0x0000000B, 0x00000019, 0x00020013, 0x00000002, 0x00030021,
+    0x00000003, 0x00000002, 0x00030016, 0x00000006, 0x00000020, 0x00040017, 0x00000007, 0x00000006, 0x00000002,
+    0x00040015, 0x0000000A, 0x00000020, 0x00000000, 0x00040017, 0x0000000B, 0x0000000A, 0x00000003, 0x00040020,
+    0x0000000C, 0x00000001, 0x0000000B, 0x0004003B, 0x0000000C, 0x0000000D, 0x00000001, 0x00040017, 0x0000000E,
+    0x0000000A, 0x00000002, 0x0004001E, 0x00000012, 0x00000007, 0x00000007, 0x00040020, 0x00000013, 0x00000009,
+    0x00000012, 0x0004003B, 0x00000013, 0x00000014, 0x00000009, 0x00040015, 0x00000015, 0x00000020, 0x00000001,
+    0x0004002B, 0x00000015, 0x00000016, 0x00000000, 0x00040020, 0x00000017, 0x00000009, 0x00000007, 0x0004002B,
+    0x00000015, 0x0000001B, 0x00000001, 0x00040017, 0x0000001F, 0x00000006, 0x00000004, 0x00090019, 0x00000022,
+    0x00000006, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x0003001B, 0x00000023,
+    0x00000022, 0x00040020, 0x00000024, 0x00000000, 0x00000023, 0x0004003B, 0x00000024, 0x00000025, 0x00000000,
+    0x0004002B, 0x00000006, 0x00000028, 0x00000000, 0x00090019, 0x0000002A, 0x00000006, 0x00000001, 0x00000000,
+    0x00000000, 0x00000000, 0x00000002, 0x00000004, 0x00040020, 0x0000002B, 0x00000000, 0x0000002A, 0x0004003B,
+    0x0000002B, 0x0000002C, 0x00000000, 0x00040017, 0x00000030, 0x00000015, 0x00000002, 0x0004002B, 0x0000000A,
+    0x00000033, 0x00000008, 0x0004002B, 0x0000000A, 0x00000034, 0x00000001, 0x0006002C, 0x0000000B, 0x00000035,
+    0x00000033, 0x00000033, 0x00000034, 0x00050036, 0x00000002, 0x00000004, 0x00000000, 0x00000003, 0x000200F8,
+    0x00000005, 0x0004003D, 0x0000000B, 0x0000000F, 0x0000000D, 0x0007004F, 0x0000000E, 0x00000010, 0x0000000F,
+    0x0000000F, 0x00000000, 0x00000001, 0x00040070, 0x00000007, 0x00000011, 0x00000010, 0x00050041, 0x00000017,
+    0x00000018, 0x00000014, 0x00000016, 0x0004003D, 0x00000007, 0x00000019, 0x00000018, 0x00050083, 0x00000007,
+    0x0000001A, 0x00000011, 0x00000019, 0x00050041, 0x00000017, 0x0000001C, 0x00000014, 0x0000001B, 0x0004003D,
+    0x00000007, 0x0000001D, 0x0000001C, 0x00050088, 0x00000007, 0x0000001E, 0x0000001A, 0x0000001D, 0x0004003D,
+    0x00000023, 0x00000026, 0x00000025, 0x00070058, 0x0000001F, 0x00000029, 0x00000026, 0x0000001E, 0x00000002,
+    0x00000028, 0x0004003D, 0x0000002A, 0x0000002D, 0x0000002C, 0x0004007C, 0x00000030, 0x00000031, 0x00000010,
+    0x00040063, 0x0000002D, 0x00000031, 0x00000029, 0x000100FD, 0x00010038
+};
+
+const uint32_t cas_comp_spv[] = {
+    0x07230203, 0x00010000, 0x00080008, 0x0000188C, 0x00000000, 0x00020011, 0x00000001, 0x00020011, 0x00000032,
+    0x0006000B, 0x00000001, 0x4C534C47, 0x6474732E, 0x3035342E, 0x00000000, 0x0003000E, 0x00000000, 0x00000001,
+    0x0006000F, 0x00000005, 0x00000004, 0x6E69616D, 0x00000000, 0x00000979, 0x00060010, 0x00000004, 0x00000011,
+    0x00000008, 0x00000008, 0x00000001, 0x00030003, 0x00000002, 0x000001C2, 0x000A0004, 0x475F4C47, 0x4C474F4F,
+    0x70635F45, 0x74735F70, 0x5F656C79, 0x656E696C, 0x7269645F, 0x69746365, 0x00006576, 0x00080004, 0x475F4C47,
+    0x4C474F4F, 0x6E695F45, 0x64756C63, 0x69645F65, 0x74636572, 0x00657669, 0x00040005, 0x00000004, 0x6E69616D,
+    0x00000000, 0x00060005, 0x000000F0, 0x75706E69, 0x6D615374, 0x72656C70, 0x00000000, 0x00050005, 0x00000956,
+    0x72616873, 0x73656E70, 0x00000073, 0x00050005, 0x00000963, 0x7074756F, 0x6D497475, 0x00656761, 0x00080005,
+    0x00000979, 0x475F6C67, 0x61626F6C, 0x766E496C, 0x7461636F, 0x496E6F69, 0x00000044, 0x00040047, 0x000000F0,
+    0x00000022, 0x00000000, 0x00040047, 0x000000F0, 0x00000021, 0x00000000, 0x00040047, 0x00000956, 0x00000001,
+    0x00000000, 0x00040047, 0x00000963, 0x00000022, 0x00000000, 0x00040047, 0x00000963, 0x00000021, 0x00000001,
+    0x00040047, 0x00000979, 0x0000000B, 0x0000001C, 0x00040047, 0x000009A7, 0x0000000B, 0x00000019, 0x00020013,
+    0x00000002, 0x00030021, 0x00000003, 0x00000002, 0x00030016, 0x00000006, 0x00000020, 0x00040015, 0x0000000C,
+    0x00000020, 0x00000000, 0x00040017, 0x00000031, 0x00000006, 0x00000003, 0x00040017, 0x00000037, 0x0000000C,
+    0x00000002, 0x00020014, 0x0000004F, 0x0004002B, 0x00000006, 0x00000075, 0x3F800000, 0x0004002B, 0x00000006,
+    0x0000007D, 0x00000000, 0x0004002B, 0x0000000C, 0x00000087, 0x00000001, 0x0004002B, 0x0000000C, 0x0000008B,
+    0x1FBC4639, 0x0004002B, 0x0000000C, 0x00000092, 0x7EF07EBB, 0x0004002B, 0x0000000C, 0x0000009C, 0x7EF19FFF,
+    0x0004002B, 0x00000006, 0x000000A8, 0x40000000, 0x0004002B, 0x00000006, 0x000000B1, 0x414EB852, 0x0004002B,
+    0x00000006, 0x000000B4, 0x3F870A3D, 0x0004002B, 0x00000006, 0x000000B9, 0x3ED55555, 0x0006002C, 0x00000031,
+    0x000000BA, 0x000000B9, 0x000000B9, 0x000000B9, 0x0004002B, 0x00000006, 0x000000BD, 0x3D6147AE, 0x0004002B,
+    0x00000006, 0x000000C3, 0x3B4D2E1C, 0x00090019, 0x000000ED, 0x00000006, 0x00000001, 0x00000000, 0x00000000,
+    0x00000000, 0x00000001, 0x00000000, 0x0003001B, 0x000000EE, 0x000000ED, 0x00040020, 0x000000EF, 0x00000000,
+    0x000000EE, 0x0004003B, 0x000000EF, 0x000000F0, 0x00000000, 0x00040015, 0x000000F3, 0x00000020, 0x00000001,
+    0x00040017, 0x000000F4, 0x000000F3, 0x00000002, 0x0004002B, 0x000000F3, 0x000000F6, 0x00000000, 0x00040017,
+    0x000000F8, 0x00000006, 0x00000004, 0x0004002B, 0x00000006, 0x0000010B, 0x3F000000, 0x0004002B, 0x00000006,
+    0x00000128, 0x41000000, 0x0004002B, 0x00000006, 0x00000129, 0x40A00000, 0x00040017, 0x00000134, 0x00000006,
+    0x00000002, 0x0004002B, 0x000000F3, 0x00000153, 0xFFFFFFFF, 0x0005002C, 0x000000F4, 0x0000015B, 0x000000F6,
+    0x00000153, 0x0004002B, 0x000000F3, 0x00000162, 0x00000001, 0x0005002C, 0x000000F4, 0x00000163, 0x00000162,
+    0x00000153, 0x0005002C, 0x000000F4, 0x0000016A, 0x00000153, 0x000000F6, 0x0005002C, 0x000000F4, 0x00000176,
+    0x00000162, 0x000000F6, 0x0005002C, 0x000000F4, 0x0000017D, 0x00000153, 0x00000162, 0x0005002C, 0x000000F4,
+    0x00000184, 0x000000F6, 0x00000162, 0x0005002C, 0x000000F4, 0x0000018B, 0x00000162, 0x00000162, 0x0004002B,
+    0x000000F3, 0x0000036B, 0x00000002, 0x0005002C, 0x000000F4, 0x00000379, 0x0000036B, 0x000000F6, 0x0005002C,
+    0x000000F4, 0x00000393, 0x000000F6, 0x0000036B, 0x0005002C, 0x000000F4, 0x000003A0, 0x0000036B, 0x00000162,
+    0x0005002C, 0x000000F4, 0x000003A7, 0x00000162, 0x0000036B, 0x0004002B, 0x00000006, 0x000007AC, 0x3D000000,
+    0x00040032, 0x00000006, 0x00000956, 0x3ECCCCCD, 0x00090019, 0x00000961, 0x00000006, 0x00000001, 0x00000000,
+    0x00000000, 0x00000000, 0x00000002, 0x00000004, 0x00040020, 0x00000962, 0x00000000, 0x00000961, 0x0004003B,
+    0x00000962, 0x00000963, 0x00000000, 0x00040017, 0x00000977, 0x0000000C, 0x00000003, 0x00040020, 0x00000978,
+    0x00000001, 0x00000977, 0x0004003B, 0x00000978, 0x00000979, 0x00000001, 0x0004002B, 0x0000000C, 0x000009A6,
+    0x00000008, 0x0006002C, 0x00000977, 0x000009A7, 0x000009A6, 0x000009A6, 0x00000087, 0x0006002C, 0x00000031,
+    0x00001878, 0x0000007D, 0x0000007D, 0x0000007D, 0x0006002C, 0x00000031, 0x00001879, 0x00000075, 0x00000075,
+    0x00000075, 0x0006002C, 0x00000031, 0x0000187A, 0x000000BD, 0x000000BD, 0x000000BD, 0x0004002B, 0x00000006,
+    0x0000187B, 0xBF800000, 0x00030001, 0x00000031, 0x0000188B, 0x00050036, 0x00000002, 0x00000004, 0x00000000,
+    0x00000003, 0x000200F8, 0x00000005, 0x0004003D, 0x000000EE, 0x00000957, 0x000000F0, 0x00040064, 0x000000ED,
+    0x00000958, 0x00000957, 0x00050067, 0x000000F4, 0x00000959, 0x00000958, 0x000000F6, 0x00050051, 0x000000F3,
+    0x0000095A, 0x00000959, 0x00000000, 0x0004006F, 0x00000006, 0x0000095B, 0x0000095A, 0x00040064, 0x000000ED,
+    0x0000095D, 0x00000957, 0x00050067, 0x000000F4, 0x0000095E, 0x0000095D, 0x000000F6, 0x00050051, 0x000000F3,
+    0x0000095F, 0x0000095E, 0x00000001, 0x0004006F, 0x00000006, 0x00000960, 0x0000095F, 0x0004003D, 0x00000961,
+    0x00000964, 0x00000963, 0x00040068, 0x000000F4, 0x00000965, 0x00000964, 0x00050051, 0x000000F3, 0x00000966,
+    0x00000965, 0x00000000, 0x0004006F, 0x00000006, 0x00000967, 0x00000966, 0x0004003D, 0x00000961, 0x00000968,
+    0x00000963, 0x00040068, 0x000000F4, 0x00000969, 0x00000968, 0x00050051, 0x000000F3, 0x0000096A, 0x00000969,
+    0x00000001, 0x0004006F, 0x00000006, 0x0000096B, 0x0000096A, 0x00050088, 0x00000006, 0x000009F9, 0x00000075,
+    0x00000967, 0x00050085, 0x00000006, 0x000009C2, 0x0000095B, 0x000009F9, 0x0004007C, 0x0000000C, 0x000009C3,
+    0x000009C2, 0x00050088, 0x00000006, 0x00000A00, 0x00000075, 0x0000096B, 0x00050085, 0x00000006, 0x000009C8,
+    0x00000960, 0x00000A00, 0x0004007C, 0x0000000C, 0x000009C9, 0x000009C8, 0x00050085, 0x00000006, 0x000009CD,
+    0x0000010B, 0x0000095B, 0x00050085, 0x00000006, 0x000009D0, 0x000009CD, 0x000009F9, 0x00050083, 0x00000006,
+    0x000009D2, 0x000009D0, 0x0000010B, 0x0004007C, 0x0000000C, 0x000009D3, 0x000009D2, 0x00050085, 0x00000006,
+    0x000009D7, 0x0000010B, 0x00000960, 0x00050085, 0x00000006, 0x000009DA, 0x000009D7, 0x00000A00, 0x00050083,
+    0x00000006, 0x000009DC, 0x000009DA, 0x0000010B, 0x0004007C, 0x0000000C, 0x000009DD, 0x000009DC, 0x0008000C,
+    0x00000006, 0x00000A1F, 0x00000001, 0x0000002B, 0x00000956, 0x0000007D, 0x00000075, 0x0008000C, 0x00000006,
+    0x00000A28, 0x00000001, 0x0000002E, 0x00000128, 0x00000129, 0x00000A1F, 0x00050088, 0x00000006, 0x000009E3,
+    0x0000187B, 0x00000A28, 0x0004007C, 0x0000000C, 0x000009E7, 0x000009E3, 0x0004003D, 0x00000977, 0x0000097A,
+    0x00000979, 0x0007004F, 0x00000037, 0x0000097B, 0x0000097A, 0x0000097A, 0x00000000, 0x00000001, 0x00050051,
+    0x0000000C, 0x0000097C, 0x0000097A, 0x00000000, 0x00050051, 0x0000000C, 0x0000097D, 0x0000097A, 0x00000001,
+    0x00050050, 0x00000037, 0x0000097E, 0x0000097C, 0x0000097D, 0x00040070, 0x00000134, 0x00000D98, 0x0000097E,
+    0x00050050, 0x00000037, 0x00000D9D, 0x000009C3, 0x000009C9, 0x0004007C, 0x00000134, 0x00000D9E, 0x00000D9D,
+    0x00050085, 0x00000134, 0x00000D9F, 0x00000D98, 0x00000D9E, 0x00050050, 0x00000037, 0x00000DA4, 0x000009D3,
+    0x000009DD, 0x0004007C, 0x00000134, 0x00000DA5, 0x00000DA4, 0x00050081, 0x00000134, 0x00000DA6, 0x00000D9F,
+    0x00000DA5, 0x0006000C, 0x00000134, 0x00000DA8, 0x00000001, 0x00000008, 0x00000DA6, 0x00050083, 0x00000134,
+    0x00000DAB, 0x00000DA6, 0x00000DA8, 0x0004006E, 0x000000F4, 0x00000DAD, 0x00000DA8, 0x00050080, 0x000000F4,
+    0x00000DB3, 0x00000DAD, 0x0000015B, 0x0004007C, 0x00000037, 0x00000DB4, 0x00000DB3, 0x0004007C, 0x000000F4,
+    0x00001369, 0x00000DB4, 0x00040064, 0x000000ED, 0x0000136A, 0x00000957, 0x0007005F, 0x000000F8, 0x0000136B,
+    0x0000136A, 0x00001369, 0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DB7, 0x00000DAD, 0x0000016A,
+    0x0004007C, 0x00000037, 0x00000DB8, 0x00000DB7, 0x0004007C, 0x000000F4, 0x00001370, 0x00000DB8, 0x00040064,
+    0x000000ED, 0x00001371, 0x00000957, 0x0007005F, 0x000000F8, 0x00001372, 0x00001371, 0x00001370, 0x00000002,
+    0x000000F6, 0x0004007C, 0x00000037, 0x00000DBB, 0x00000DAD, 0x0004007C, 0x000000F4, 0x00001377, 0x00000DBB,
+    0x00040064, 0x000000ED, 0x00001378, 0x00000957, 0x0007005F, 0x000000F8, 0x00001379, 0x00001378, 0x00001377,
+    0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DBE, 0x00000DAD, 0x00000163, 0x0004007C, 0x00000037,
+    0x00000DBF, 0x00000DBE, 0x0004007C, 0x000000F4, 0x0000137E, 0x00000DBF, 0x00040064, 0x000000ED, 0x0000137F,
+    0x00000957, 0x0007005F, 0x000000F8, 0x00001380, 0x0000137F, 0x0000137E, 0x00000002, 0x000000F6, 0x00050080,
+    0x000000F4, 0x00000DC6, 0x00000DAD, 0x00000176, 0x0004007C, 0x00000037, 0x00000DC7, 0x00000DC6, 0x0004007C,
+    0x000000F4, 0x0000138C, 0x00000DC7, 0x00040064, 0x000000ED, 0x0000138D, 0x00000957, 0x0007005F, 0x000000F8,
+    0x0000138E, 0x0000138D, 0x0000138C, 0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DCA, 0x00000DAD,
+    0x00000379, 0x0004007C, 0x00000037, 0x00000DCB, 0x00000DCA, 0x0004007C, 0x000000F4, 0x00001393, 0x00000DCB,
+    0x00040064, 0x000000ED, 0x00001394, 0x00000957, 0x0007005F, 0x000000F8, 0x00001395, 0x00001394, 0x00001393,
+    0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DCE, 0x00000DAD, 0x0000017D, 0x0004007C, 0x00000037,
+    0x00000DCF, 0x00000DCE, 0x0004007C, 0x000000F4, 0x0000139A, 0x00000DCF, 0x00040064, 0x000000ED, 0x0000139B,
+    0x00000957, 0x0007005F, 0x000000F8, 0x0000139C, 0x0000139B, 0x0000139A, 0x00000002, 0x000000F6, 0x00050080,
+    0x000000F4, 0x00000DD2, 0x00000DAD, 0x00000184, 0x0004007C, 0x00000037, 0x00000DD3, 0x00000DD2, 0x0004007C,
+    0x000000F4, 0x000013A1, 0x00000DD3, 0x00040064, 0x000000ED, 0x000013A2, 0x00000957, 0x0007005F, 0x000000F8,
+    0x000013A3, 0x000013A2, 0x000013A1, 0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DDA, 0x00000DAD,
+    0x00000393, 0x0004007C, 0x00000037, 0x00000DDB, 0x00000DDA, 0x0004007C, 0x000000F4, 0x000013AF, 0x00000DDB,
+    0x00040064, 0x000000ED, 0x000013B0, 0x00000957, 0x0007005F, 0x000000F8, 0x000013B1, 0x000013B0, 0x000013AF,
+    0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DDE, 0x00000DAD, 0x0000018B, 0x0004007C, 0x00000037,
+    0x00000DDF, 0x00000DDE, 0x0004007C, 0x000000F4, 0x000013B6, 0x00000DDF, 0x00040064, 0x000000ED, 0x000013B7,
+    0x00000957, 0x0007005F, 0x000000F8, 0x000013B8, 0x000013B7, 0x000013B6, 0x00000002, 0x000000F6, 0x00050080,
+    0x000000F4, 0x00000DE2, 0x00000DAD, 0x000003A0, 0x0004007C, 0x00000037, 0x00000DE3, 0x00000DE2, 0x0004007C,
+    0x000000F4, 0x000013BD, 0x00000DE3, 0x00040064, 0x000000ED, 0x000013BE, 0x00000957, 0x0007005F, 0x000000F8,
+    0x000013BF, 0x000013BE, 0x000013BD, 0x00000002, 0x000000F6, 0x00050080, 0x000000F4, 0x00000DE6, 0x00000DAD,
+    0x000003A7, 0x0004007C, 0x00000037, 0x00000DE7, 0x00000DE6, 0x0004007C, 0x000000F4, 0x000013C4, 0x00000DE7,
+    0x00040064, 0x000000ED, 0x000013C5, 0x00000957, 0x0007005F, 0x000000F8, 0x000013C6, 0x000013C5, 0x000013C4,
+    0x00000002, 0x000000F6, 0x00050051, 0x00000006, 0x00000DFB, 0x0000136B, 0x00000000, 0x00050051, 0x00000006,
+    0x00000DFD, 0x0000136B, 0x00000001, 0x00050051, 0x00000006, 0x00000DFF, 0x0000136B, 0x00000002, 0x00050051,
+    0x00000006, 0x00000E08, 0x00001380, 0x00000000, 0x00050051, 0x00000006, 0x00000E0A, 0x00001380, 0x00000001,
+    0x00050051, 0x00000006, 0x00000E0C, 0x00001380, 0x00000002, 0x00050051, 0x00000006, 0x00000E22, 0x00001372,
+    0x00000000, 0x00050051, 0x00000006, 0x00000E24, 0x00001372, 0x00000001, 0x00050051, 0x00000006, 0x00000E26,
+    0x00001372, 0x00000002, 0x00050051, 0x00000006, 0x00000E2F, 0x00001379, 0x00000000, 0x00050051, 0x00000006,
+    0x00000E31, 0x00001379, 0x00000001, 0x00050051, 0x00000006, 0x00000E33, 0x00001379, 0x00000002, 0x00050051,
+    0x00000006, 0x00000E3C, 0x0000138E, 0x00000000, 0x00050051, 0x00000006, 0x00000E3E, 0x0000138E, 0x00000001,
+    0x00050051, 0x00000006, 0x00000E40, 0x0000138E, 0x00000002, 0x00050051, 0x00000006, 0x00000E49, 0x00001395,
+    0x00000000, 0x00050051, 0x00000006, 0x00000E4B, 0x00001395, 0x00000001, 0x00050051, 0x00000006, 0x00000E4D,
+    0x00001395, 0x00000002, 0x00050051, 0x00000006, 0x00000E56, 0x0000139C, 0x00000000, 0x00050051, 0x00000006,
+    0x00000E58, 0x0000139C, 0x00000001, 0x00050051, 0x00000006, 0x00000E5A, 0x0000139C, 0x00000002, 0x00050051,
+    0x00000006, 0x00000E63, 0x000013A3, 0x00000000, 0x00050051, 0x00000006, 0x00000E65, 0x000013A3, 0x00000001,
+    0x00050051, 0x00000006, 0x00000E67, 0x000013A3, 0x00000002, 0x00050051, 0x00000006, 0x00000E70, 0x000013B8,
+    0x00000000, 0x00050051, 0x00000006, 0x00000E72, 0x000013B8, 0x00000001, 0x00050051, 0x00000006, 0x00000E74,
+    0x000013B8, 0x00000002, 0x00050051, 0x00000006, 0x00000E7D, 0x000013BF, 0x00000000, 0x00050051, 0x00000006,
+    0x00000E7F, 0x000013BF, 0x00000001, 0x00050051, 0x00000006, 0x00000E81, 0x000013BF, 0x00000002, 0x00050051,
+    0x00000006, 0x00000E97, 0x000013B1, 0x00000000, 0x00050051, 0x00000006, 0x00000E99, 0x000013B1, 0x00000001,
+    0x00050051, 0x00000006, 0x00000E9B, 0x000013B1, 0x00000002, 0x00050051, 0x00000006, 0x00000EA4, 0x000013C6,
+    0x00000000, 0x00050051, 0x00000006, 0x00000EA6, 0x000013C6, 0x00000001, 0x00050051, 0x00000006, 0x00000EA8,
+    0x000013C6, 0x00000002, 0x0007000C, 0x00000006, 0x000013DF, 0x00000001, 0x00000025, 0x00000E24, 0x00000E31,
+    0x0007000C, 0x00000006, 0x000013E0, 0x00000001, 0x00000025, 0x00000DFD, 0x000013DF, 0x0007000C, 0x00000006,
+    0x000013E5, 0x00000001, 0x00000025, 0x00000E3E, 0x00000E65, 0x0007000C, 0x00000006, 0x000013E6, 0x00000001,
+    0x00000025, 0x000013E0, 0x000013E5, 0x0007000C, 0x00000006, 0x00001403, 0x00000001, 0x00000028, 0x00000E24,
+    0x00000E31, 0x0007000C, 0x00000006, 0x00001404, 0x00000001, 0x00000028, 0x00000DFD, 0x00001403, 0x0007000C,
+    0x00000006, 0x00001409, 0x00000001, 0x00000028, 0x00000E3E, 0x00000E65, 0x0007000C, 0x00000006, 0x0000140A,
+    0x00000001, 0x00000028, 0x00001404, 0x00001409, 0x0007000C, 0x00000006, 0x00001427, 0x00000001, 0x00000025,
+    0x00000E31, 0x00000E3E, 0x0007000C, 0x00000006, 0x00001428, 0x00000001, 0x00000025, 0x00000E0A, 0x00001427,
+    0x0007000C, 0x00000006, 0x0000142D, 0x00000001, 0x00000025, 0x00000E4B, 0x00000E72, 0x0007000C, 0x00000006,
+    0x0000142E, 0x00000001, 0x00000025, 0x00001428, 0x0000142D, 0x0007000C, 0x00000006, 0x0000144B, 0x00000001,
+    0x00000028, 0x00000E31, 0x00000E3E, 0x0007000C, 0x00000006, 0x0000144C, 0x00000001, 0x00000028, 0x00000E0A,
+    0x0000144B, 0x0007000C, 0x00000006, 0x00001451, 0x00000001, 0x00000028, 0x00000E4B, 0x00000E72, 0x0007000C,
+    0x00000006, 0x00001452, 0x00000001, 0x00000028, 0x0000144C, 0x00001451, 0x0007000C, 0x00000006, 0x0000146F,
+    0x00000001, 0x00000025, 0x00000E58, 0x00000E65, 0x0007000C, 0x00000006, 0x00001470, 0x00000001, 0x00000025,
+    0x00000E31, 0x0000146F, 0x0007000C, 0x00000006, 0x00001475, 0x00000001, 0x00000025, 0x00000E72, 0x00000E99,
+    0x0007000C, 0x00000006, 0x00001476, 0x00000001, 0x00000025, 0x00001470, 0x00001475, 0x0007000C, 0x00000006,
+    0x00001493, 0x00000001, 0x00000028, 0x00000E58, 0x00000E65, 0x0007000C, 0x00000006, 0x00001494, 0x00000001,
+    0x00000028, 0x00000E31, 0x00001493, 0x0007000C, 0x00000006, 0x00001499, 0x00000001, 0x00000028, 0x00000E72,
+    0x00000E99, 0x0007000C, 0x00000006, 0x0000149A, 0x00000001, 0x00000028, 0x00001494, 0x00001499, 0x0007000C,
+    0x00000006, 0x000014B7, 0x00000001, 0x00000025, 0x00000E65, 0x00000E72, 0x0007000C, 0x00000006, 0x000014B8,
+    0x00000001, 0x00000025, 0x00000E3E, 0x000014B7, 0x0007000C, 0x00000006, 0x000014BD, 0x00000001, 0x00000025,
+    0x00000E7F, 0x00000EA6, 0x0007000C, 0x00000006, 0x000014BE, 0x00000001, 0x00000025, 0x000014B8, 0x000014BD,
+    0x0007000C, 0x00000006, 0x000014DB, 0x00000001, 0x00000028, 0x00000E65, 0x00000E72, 0x0007000C, 0x00000006,
+    0x000014DC, 0x00000001, 0x00000028, 0x00000E3E, 0x000014DB, 0x0007000C, 0x00000006, 0x000014E1, 0x00000001,
+    0x00000028, 0x00000E7F, 0x00000EA6, 0x0007000C, 0x00000006, 0x000014E2, 0x00000001, 0x00000028, 0x000014DC,
+    0x000014E1, 0x0004007C, 0x0000000C, 0x000014FC, 0x0000140A, 0x00050082, 0x0000000C, 0x000014FD, 0x00000092,
+    0x000014FC, 0x0004007C, 0x00000006, 0x000014FE, 0x000014FD, 0x0004007C, 0x0000000C, 0x00001517, 0x00001452,
+    0x00050082, 0x0000000C, 0x00001518, 0x00000092, 0x00001517, 0x0004007C, 0x00000006, 0x00001519, 0x00001518,
+    0x0004007C, 0x0000000C, 0x00001532, 0x0000149A, 0x00050082, 0x0000000C, 0x00001533, 0x00000092, 0x00001532,
+    0x0004007C, 0x00000006, 0x00001534, 0x00001533, 0x0004007C, 0x0000000C, 0x0000154D, 0x000014E2, 0x00050082,
+    0x0000000C, 0x0000154E, 0x00000092, 0x0000154D, 0x0004007C, 0x00000006, 0x0000154F, 0x0000154E, 0x00050083,
+    0x00000006, 0x00001000, 0x00000075, 0x0000140A, 0x0007000C, 0x00000006, 0x00001001, 0x00000001, 0x00000025,
+    0x000013E6, 0x00001000, 0x00050085, 0x00000006, 0x00001003, 0x00001001, 0x000014FE, 0x0008000C, 0x00000006,
+    0x00001570, 0x00000001, 0x0000002B, 0x00001003, 0x0000007D, 0x00000075, 0x00050083, 0x00000006, 0x00001018,
+    0x00000075, 0x00001452, 0x0007000C, 0x00000006, 0x00001019, 0x00000001, 0x00000025, 0x0000142E, 0x00001018,
+    0x00050085, 0x00000006, 0x0000101B, 0x00001019, 0x00001519, 0x0008000C, 0x00000006, 0x00001597, 0x00000001,
+    0x0000002B, 0x0000101B, 0x0000007D, 0x00000075, 0x00050083, 0x00000006, 0x00001030, 0x00000075, 0x0000149A,
+    0x0007000C, 0x00000006, 0x00001031, 0x00000001, 0x00000025, 0x00001476, 0x00001030, 0x00050085, 0x00000006,
+    0x00001033, 0x00001031, 0x00001534, 0x0008000C, 0x00000006, 0x000015BE, 0x00000001, 0x0000002B, 0x00001033,
+    0x0000007D, 0x00000075, 0x00050083, 0x00000006, 0x00001048, 0x00000075, 0x000014E2, 0x0007000C, 0x00000006,
+    0x00001049, 0x00000001, 0x00000025, 0x000014BE, 0x00001048, 0x00050085, 0x00000006, 0x0000104B, 0x00001049,
+    0x0000154F, 0x0008000C, 0x00000006, 0x000015E5, 0x00000001, 0x0000002B, 0x0000104B, 0x0000007D, 0x00000075,
+    0x0004007C, 0x0000000C, 0x00001609, 0x00001570, 0x000500C2, 0x0000000C, 0x0000160B, 0x00001609, 0x00000087,
+    0x00050080, 0x0000000C, 0x0000160D, 0x0000160B, 0x0000008B, 0x0004007C, 0x00000006, 0x0000160E, 0x0000160D,
+    0x0004007C, 0x0000000C, 0x00001633, 0x00001597, 0x000500C2, 0x0000000C, 0x00001635, 0x00001633, 0x00000087,
+    0x00050080, 0x0000000C, 0x00001637, 0x00001635, 0x0000008B, 0x0004007C, 0x00000006, 0x00001638, 0x00001637,
+    0x0004007C, 0x0000000C, 0x0000165D, 0x000015BE, 0x000500C2, 0x0000000C, 0x0000165F, 0x0000165D, 0x00000087,
+    0x00050080, 0x0000000C, 0x00001661, 0x0000165F, 0x0000008B, 0x0004007C, 0x00000006, 0x00001662, 0x00001661,
+    0x0004007C, 0x0000000C, 0x00001687, 0x000015E5, 0x000500C2, 0x0000000C, 0x00001689, 0x00001687, 0x00000087,
+    0x00050080, 0x0000000C, 0x0000168B, 0x00001689, 0x0000008B, 0x0004007C, 0x00000006, 0x0000168C, 0x0000168B,
+    0x0004007C, 0x00000006, 0x0000106F, 0x000009E7, 0x00050085, 0x00000006, 0x00001075, 0x0000160E, 0x0000106F,
+    0x00050085, 0x00000006, 0x0000107E, 0x00001638, 0x0000106F, 0x00050085, 0x00000006, 0x00001087, 0x00001662,
+    0x0000106F, 0x00050085, 0x00000006, 0x00001090, 0x0000168C, 0x0000106F, 0x00050051, 0x00000006, 0x00001096,
+    0x00000DAB, 0x00000000, 0x00050083, 0x00000006, 0x00001097, 0x00000075, 0x00001096, 0x00050051, 0x00000006,
+    0x0000109A, 0x00000DAB, 0x00000001, 0x00050083, 0x00000006, 0x0000109B, 0x00000075, 0x0000109A, 0x00050085,
+    0x00000006, 0x0000109C, 0x00001097, 0x0000109B, 0x00050085, 0x00000006, 0x000010A3, 0x00001096, 0x0000109B,
+    0x00050085, 0x00000006, 0x000010AA, 0x00001097, 0x0000109A, 0x00050085, 0x00000006, 0x000010AF, 0x00001096,
+    0x0000109A, 0x00050083, 0x00000006, 0x000010B3, 0x0000140A, 0x000013E6, 0x00050081, 0x00000006, 0x000010B4,
+    0x000007AC, 0x000010B3, 0x0004007C, 0x0000000C, 0x000016AB, 0x000010B4, 0x00050082, 0x0000000C, 0x000016AC,
+    0x00000092, 0x000016AB, 0x0004007C, 0x00000006, 0x000016AD, 0x000016AC, 0x00050085, 0x00000006, 0x000010B7,
+    0x0000109C, 0x000016AD, 0x00050083, 0x00000006, 0x000010BB, 0x00001452, 0x0000142E, 0x00050081, 0x00000006,
+    0x000010BC, 0x000007AC, 0x000010BB, 0x0004007C, 0x0000000C, 0x000016B4, 0x000010BC, 0x00050082, 0x0000000C,
+    0x000016B5, 0x00000092, 0x000016B4, 0x0004007C, 0x00000006, 0x000016B6, 0x000016B5, 0x00050085, 0x00000006,
+    0x000010BF, 0x000010A3, 0x000016B6, 0x00050083, 0x00000006, 0x000010C3, 0x0000149A, 0x00001476, 0x00050081,
+    0x00000006, 0x000010C4, 0x000007AC, 0x000010C3, 0x0004007C, 0x0000000C, 0x000016BD, 0x000010C4, 0x00050082,
+    0x0000000C, 0x000016BE, 0x00000092, 0x000016BD, 0x0004007C, 0x00000006, 0x000016BF, 0x000016BE, 0x00050085,
+    0x00000006, 0x000010C7, 0x000010AA, 0x000016BF, 0x00050083, 0x00000006, 0x000010CB, 0x000014E2, 0x000014BE,
+    0x00050081, 0x00000006, 0x000010CC, 0x000007AC, 0x000010CB, 0x0004007C, 0x0000000C, 0x000016C6, 0x000010CC,
+    0x00050082, 0x0000000C, 0x000016C7, 0x00000092, 0x000016C6, 0x0004007C, 0x00000006, 0x000016C8, 0x000016C7,
+    0x00050085, 0x00000006, 0x000010CF, 0x000010AF, 0x000016C8, 0x00050085, 0x00000006, 0x000010D5, 0x00001075,
+    0x000010B7, 0x00050085, 0x00000006, 0x000010DE, 0x0000107E, 0x000010BF, 0x00050085, 0x00000006, 0x000010F0,
+    0x00001087, 0x000010C7, 0x00050081, 0x00000006, 0x000010F1, 0x000010DE, 0x000010F0, 0x00050081, 0x00000006,
+    0x000010F3, 0x000010F1, 0x000010B7, 0x00050085, 0x00000006, 0x0000110B, 0x00001090, 0x000010CF, 0x00050081,
+    0x00000006, 0x0000110C, 0x000010D5, 0x0000110B, 0x00050081, 0x00000006, 0x0000110E, 0x0000110C, 0x000010BF,
+    0x00050081, 0x00000006, 0x00001129, 0x0000110C, 0x000010C7, 0x00050081, 0x00000006, 0x00001144, 0x000010F1,
+    0x000010CF, 0x00050081, 0x00000006, 0x0000187C, 0x000010D5, 0x000010DE, 0x00050081, 0x00000006, 0x0000187D,
+    0x0000187C, 0x000010F0, 0x00050081, 0x00000006, 0x0000187E, 0x0000187D, 0x0000110B, 0x00050085, 0x00000006,
+    0x0000116E, 0x000000A8, 0x0000187E, 0x00050081, 0x00000006, 0x00001170, 0x0000116E, 0x000010F3, 0x00050081,
+    0x00000006, 0x00001172, 0x00001170, 0x0000110E, 0x00050081, 0x00000006, 0x00001174, 0x00001172, 0x00001129,
+    0x00050081, 0x00000006, 0x00001176, 0x00001174, 0x00001144, 0x0004007C, 0x0000000C, 0x000016D9, 0x00001176,
+    0x00050082, 0x0000000C, 0x000016DA, 0x0000009C, 0x000016D9, 0x0004007C, 0x00000006, 0x000016DB, 0x000016DA,
+    0x0004007F, 0x00000006, 0x000016DE, 0x000016DB, 0x00050085, 0x00000006, 0x000016E0, 0x000016DE, 0x00001176,
+    0x00050081, 0x00000006, 0x000016E2, 0x000016E0, 0x000000A8, 0x00050085, 0x00000006, 0x000016E3, 0x000016DB,
+    0x000016E2, 0x00050081, 0x00000006, 0x0000187F, 0x00000DFB, 0x00000E22, 0x00050085, 0x00000006, 0x00001180,
+    0x000010D5, 0x0000187F, 0x00050085, 0x00000006, 0x00001184, 0x00000E08, 0x000010DE, 0x00050081, 0x00000006,
+    0x00001185, 0x00001180, 0x00001184, 0x00050085, 0x00000006, 0x00001189, 0x00000E49, 0x000010DE, 0x00050081,
+    0x00000006, 0x0000118A, 0x00001185, 0x00001189, 0x00050085, 0x00000006, 0x0000118E, 0x00000E56, 0x000010F0,
+    0x00050081, 0x00000006, 0x0000118F, 0x0000118A, 0x0000118E, 0x00050085, 0x00000006, 0x00001193, 0x00000E97,
+    0x000010F0, 0x00050081, 0x00000006, 0x00001194, 0x0000118F, 0x00001193, 0x00050085, 0x00000006, 0x00001198,
+    0x00000E7D, 0x0000110B, 0x00050081, 0x00000006, 0x00001199, 0x00001194, 0x00001198, 0x00050085, 0x00000006,
+    0x0000119D, 0x00000EA4, 0x0000110B, 0x00050081, 0x00000006, 0x0000119E, 0x00001199, 0x0000119D, 0x00050085,
+    0x00000006, 0x000011A2, 0x00000E2F, 0x000010F3, 0x00050081, 0x00000006, 0x000011A3, 0x0000119E, 0x000011A2,
+    0x00050085, 0x00000006, 0x000011A7, 0x00000E3C, 0x0000110E, 0x00050081, 0x00000006, 0x000011A8, 0x000011A3,
+    0x000011A7, 0x00050085, 0x00000006, 0x000011AC, 0x00000E63, 0x00001129, 0x00050081, 0x00000006, 0x000011AD,
+    0x000011A8, 0x000011AC, 0x00050085, 0x00000006, 0x000011B1, 0x00000E70, 0x00001144, 0x00050081, 0x00000006,
+    0x000011B2, 0x000011AD, 0x000011B1, 0x00050085, 0x00000006, 0x000011B4, 0x000011B2, 0x000016E3, 0x0008000C,
+    0x00000006, 0x000016EE, 0x00000001, 0x0000002B, 0x000011B4, 0x0000007D, 0x00000075, 0x00050081, 0x00000006,
+    0x00001880, 0x00000DFD, 0x00000E24, 0x00050085, 0x00000006, 0x000011BE, 0x000010D5, 0x00001880, 0x00050085,
+    0x00000006, 0x000011C2, 0x00000E0A, 0x000010DE, 0x00050081, 0x00000006, 0x000011C3, 0x000011BE, 0x000011C2,
+    0x00050085, 0x00000006, 0x000011C7, 0x00000E4B, 0x000010DE, 0x00050081, 0x00000006, 0x000011C8, 0x000011C3,
+    0x000011C7, 0x00050085, 0x00000006, 0x000011CC, 0x00000E58, 0x000010F0, 0x00050081, 0x00000006, 0x000011CD,
+    0x000011C8, 0x000011CC, 0x00050085, 0x00000006, 0x000011D1, 0x00000E99, 0x000010F0, 0x00050081, 0x00000006,
+    0x000011D2, 0x000011CD, 0x000011D1, 0x00050085, 0x00000006, 0x000011D6, 0x00000E7F, 0x0000110B, 0x00050081,
+    0x00000006, 0x000011D7, 0x000011D2, 0x000011D6, 0x00050085, 0x00000006, 0x000011DB, 0x00000EA6, 0x0000110B,
+    0x00050081, 0x00000006, 0x000011DC, 0x000011D7, 0x000011DB, 0x00050085, 0x00000006, 0x000011E0, 0x00000E31,
+    0x000010F3, 0x00050081, 0x00000006, 0x000011E1, 0x000011DC, 0x000011E0, 0x00050085, 0x00000006, 0x000011E5,
+    0x00000E3E, 0x0000110E, 0x00050081, 0x00000006, 0x000011E6, 0x000011E1, 0x000011E5, 0x00050085, 0x00000006,
+    0x000011EA, 0x00000E65, 0x00001129, 0x00050081, 0x00000006, 0x000011EB, 0x000011E6, 0x000011EA, 0x00050085,
+    0x00000006, 0x000011EF, 0x00000E72, 0x00001144, 0x00050081, 0x00000006, 0x000011F0, 0x000011EB, 0x000011EF,
+    0x00050085, 0x00000006, 0x000011F2, 0x000011F0, 0x000016E3, 0x0008000C, 0x00000006, 0x000016F9, 0x00000001,
+    0x0000002B, 0x000011F2, 0x0000007D, 0x00000075, 0x00050081, 0x00000006, 0x00001881, 0x00000DFF, 0x00000E26,
+    0x00050085, 0x00000006, 0x000011FC, 0x000010D5, 0x00001881, 0x00050085, 0x00000006, 0x00001200, 0x00000E0C,
+    0x000010DE, 0x00050081, 0x00000006, 0x00001201, 0x000011FC, 0x00001200, 0x00050085, 0x00000006, 0x00001205,
+    0x00000E4D, 0x000010DE, 0x00050081, 0x00000006, 0x00001206, 0x00001201, 0x00001205, 0x00050085, 0x00000006,
+    0x0000120A, 0x00000E5A, 0x000010F0, 0x00050081, 0x00000006, 0x0000120B, 0x00001206, 0x0000120A, 0x00050085,
+    0x00000006, 0x0000120F, 0x00000E9B, 0x000010F0, 0x00050081, 0x00000006, 0x00001210, 0x0000120B, 0x0000120F,
+    0x00050085, 0x00000006, 0x00001214, 0x00000E81, 0x0000110B, 0x00050081, 0x00000006, 0x00001215, 0x00001210,
+    0x00001214, 0x00050085, 0x00000006, 0x00001219, 0x00000EA8, 0x0000110B, 0x00050081, 0x00000006, 0x0000121A,
+    0x00001215, 0x00001219, 0x00050085, 0x00000006, 0x0000121E, 0x00000E33, 0x000010F3, 0x00050081, 0x00000006,
+    0x0000121F, 0x0000121A, 0x0000121E, 0x00050085, 0x00000006, 0x00001223, 0x00000E40, 0x0000110E, 0x00050081,
+    0x00000006, 0x00001224, 0x0000121F, 0x00001223, 0x00050085, 0x00000006, 0x00001228, 0x00000E67, 0x00001129,
+    0x00050081, 0x00000006, 0x00001229, 0x00001224, 0x00001228, 0x00050085, 0x00000006, 0x0000122D, 0x00000E74,
+    0x00001144, 0x00050081, 0x00000006, 0x0000122E, 0x00001229, 0x0000122D, 0x00050085, 0x00000006, 0x00001230,
+    0x0000122E, 0x000016E3, 0x0008000C, 0x00000006, 0x00001704, 0x00000001, 0x0000002B, 0x00001230, 0x0000007D,
+    0x00000075, 0x00060052, 0x00000031, 0x00001857, 0x000016EE, 0x0000188B, 0x00000000, 0x00060052, 0x00000031,
+    0x00001859, 0x000016F9, 0x00001857, 0x00000001, 0x00060052, 0x00000031, 0x0000185B, 0x00001704, 0x00001859,
+    0x00000002, 0x0005008E, 0x00000031, 0x00001710, 0x0000185B, 0x000000B1, 0x0008000C, 0x00000031, 0x00001714,
+    0x00000001, 0x0000002B, 0x0000185B, 0x00001878, 0x00001879, 0x0007000C, 0x00000031, 0x00001715, 0x00000001,
+    0x0000001A, 0x00001714, 0x000000BA, 0x0005008E, 0x00000031, 0x00001716, 0x00001715, 0x000000B4, 0x00050083,
+    0x00000031, 0x00001718, 0x00001716, 0x0000187A, 0x000500B8, 0x0000004F, 0x0000171B, 0x000016EE, 0x000000C3,
+    0x000300F7, 0x0000171C, 0x00000000, 0x000400FA, 0x0000171B, 0x0000171D, 0x0000171E, 0x000200F8, 0x0000171E,
+    0x00050051, 0x00000006, 0x00001722, 0x00001718, 0x00000000, 0x000200F9, 0x0000171C, 0x000200F8, 0x0000171D,
+    0x00050051, 0x00000006, 0x00001720, 0x00001710, 0x00000000, 0x000200F9, 0x0000171C, 0x000200F8, 0x0000171C,
+    0x000700F5, 0x00000006, 0x00001872, 0x00001720, 0x0000171D, 0x00001722, 0x0000171E, 0x000500B8, 0x0000004F,
+    0x00001727, 0x000016F9, 0x000000C3, 0x000300F7, 0x00001728, 0x00000000, 0x000400FA, 0x00001727, 0x00001729,
+    0x0000172A, 0x000200F8, 0x0000172A, 0x00050051, 0x00000006, 0x0000172E, 0x00001718, 0x00000001, 0x000200F9,
+    0x00001728, 0x000200F8, 0x00001729, 0x00050051, 0x00000006, 0x0000172C, 0x00001710, 0x00000001, 0x000200F9,
+    0x00001728, 0x000200F8, 0x00001728, 0x000700F5, 0x00000006, 0x00001874, 0x0000172C, 0x00001729, 0x0000172E,
+    0x0000172A, 0x000500B8, 0x0000004F, 0x00001733, 0x00001704, 0x000000C3, 0x000300F7, 0x00001734, 0x00000000,
+    0x000400FA, 0x00001733, 0x00001735, 0x00001736, 0x000200F8, 0x00001736, 0x00050051, 0x00000006, 0x0000173A,
+    0x00001718, 0x00000002, 0x000200F9, 0x00001734, 0x000200F8, 0x00001735, 0x00050051, 0x00000006, 0x00001738,
+    0x00001710, 0x00000002, 0x000200F9, 0x00001734, 0x000200F8, 0x00001734, 0x000700F5, 0x00000006, 0x00001876,
+    0x00001738, 0x00001735, 0x0000173A, 0x00001736, 0x0004003D, 0x00000961, 0x00000993, 0x00000963, 0x0004007C,
+    0x000000F4, 0x00000996, 0x0000097B, 0x00040070, 0x00000134, 0x0000099B, 0x0000097B, 0x0004003D, 0x00000961,
+    0x0000099C, 0x00000963, 0x00040068, 0x000000F4, 0x0000099D, 0x0000099C, 0x0004006F, 0x00000134, 0x0000099E,
+    0x0000099D, 0x00050088, 0x00000134, 0x0000099F, 0x0000099B, 0x0000099E, 0x00070058, 0x000000F8, 0x000009A0,
+    0x00000957, 0x0000099F, 0x00000002, 0x0000007D, 0x00050051, 0x00000006, 0x000009A1, 0x000009A0, 0x00000003,
+    0x00070050, 0x000000F8, 0x000009A5, 0x00001872, 0x00001874, 0x00001876, 0x000009A1, 0x00040063, 0x00000993,
+    0x00000996, 0x000009A5, 0x000100FD, 0x00010038
 };
 
 static VkResult create_pipeline(VkDevice device, struct VkSwapchainKHR_T *swapchain, struct fs_hack_image *hack, VkShaderModule shaderModule)
 {
     VkResult res;
+    VkSpecializationMapEntry specializationMapEntry = {0};
+    VkSpecializationInfo specializationInfo = {0};
 #if defined(USE_STRUCT_CONVERSION)
     VkComputePipelineCreateInfo_host pipelineInfo = {0};
 #else
     VkComputePipelineCreateInfo pipelineInfo = {0};
 #endif
 
+    specializationMapEntry.size = sizeof(float);
+
+    swapchain->fs_hack_cas_sharpness = 1.0f; // TODO make this a setting
+
+    specializationInfo.mapEntryCount = 1;
+    specializationInfo.pMapEntries   = &specializationMapEntry;
+    specializationInfo.dataSize      = sizeof(float);
+    specializationInfo.pData         = &swapchain->fs_hack_cas_sharpness;
+
     pipelineInfo.sType = VK_STRUCTURE_TYPE_COMPUTE_PIPELINE_CREATE_INFO;
     pipelineInfo.stage.sType = VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO;
     pipelineInfo.stage.stage = VK_SHADER_STAGE_COMPUTE_BIT;
     pipelineInfo.stage.module = shaderModule;
     pipelineInfo.stage.pName = "main";
+    pipelineInfo.stage.pSpecializationInfo = swapchain->fs_hack_cas ? &specializationInfo : NULL;
     pipelineInfo.layout = swapchain->pipeline_layout;
     pipelineInfo.basePipelineHandle = VK_NULL_HANDLE;
     pipelineInfo.basePipelineIndex = -1;
@@ -1581,6 +1853,7 @@ static VkResult init_fs_hack_images(VkDevice device, struct VkSwapchainKHR_T *sw
         }
 
         imageInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;
+        imageInfo.flags = VK_IMAGE_CREATE_MUTABLE_FORMAT_BIT;
         imageInfo.imageType = VK_IMAGE_TYPE_2D;
         imageInfo.extent.width = swapchain->user_extent.width;
         imageInfo.extent.height = swapchain->user_extent.height;
@@ -1660,7 +1933,7 @@ static VkResult init_fs_hack_images(VkDevice device, struct VkSwapchainKHR_T *sw
         viewInfo.sType = VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO;
         viewInfo.image = swapchain->fs_hack_images[i].user_image;
         viewInfo.viewType = VK_IMAGE_VIEW_TYPE_2D;
-        viewInfo.format = createinfo->imageFormat;
+        viewInfo.format = swapchain->fs_hack_cas ? VK_FORMAT_B8G8R8A8_SRGB : VK_FORMAT_B8G8R8A8_UNORM;
         viewInfo.subresourceRange.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;
         viewInfo.subresourceRange.baseMipLevel = 0;
         viewInfo.subresourceRange.levelCount = 1;
@@ -1715,7 +1988,7 @@ VkResult WINAPI wine_vkCreateSwapchainKHR(VkDevice device, const VkSwapchainCrea
         our_createinfo.oldSwapchain = ((struct VkSwapchainKHR_T *)(UINT_PTR)our_createinfo.oldSwapchain)->swapchain;
 
     if(vk_funcs->query_fs_hack &&
-            vk_funcs->query_fs_hack(&object->real_extent, &user_sz, &object->blit_dst, &object->fs_hack_filter) &&
+            vk_funcs->query_fs_hack(&object->real_extent, &user_sz, &object->blit_dst, &object->fs_hack_filter, &object->fs_hack_cas) &&
             our_createinfo.imageExtent.width == user_sz.width &&
             our_createinfo.imageExtent.height == user_sz.height)
     {
@@ -1740,12 +2013,13 @@ VkResult WINAPI wine_vkCreateSwapchainKHR(VkDevice device, const VkSwapchainCrea
         TRACE("surface usage flags: 0x%x\n", object->surface_usage);
 
         our_createinfo.imageExtent = object->real_extent;
-        our_createinfo.imageUsage |= VK_IMAGE_USAGE_TRANSFER_DST_BIT; /* XXX: check if supported by surface */
+        our_createinfo.imageUsage |= VK_IMAGE_USAGE_TRANSFER_DST_BIT | VK_IMAGE_USAGE_STORAGE_BIT; /* XXX: check if supported by surface */
 
         if(our_createinfo.imageFormat != VK_FORMAT_B8G8R8A8_UNORM &&
                 our_createinfo.imageFormat != VK_FORMAT_B8G8R8A8_SRGB){
             FIXME("swapchain image format is not BGRA8 UNORM/SRGB. Things may go badly. %d\n", our_createinfo.imageFormat);
         }
+        object->swapchain_format = our_createinfo.imageFormat;
 
         object->fs_hack_enabled = TRUE;
     }
@@ -2023,7 +2297,7 @@ static VkResult init_blit_images(VkDevice device, struct VkSwapchainKHR_T *swapc
         goto fail;
     }
 
-    if(!(swapchain->surface_usage & VK_IMAGE_USAGE_STORAGE_BIT)){
+    if(!(swapchain->surface_usage & VK_IMAGE_USAGE_STORAGE_BIT) || swapchain->swapchain_format == VK_FORMAT_B8G8R8A8_SRGB){
         TRACE("using intermediate blit images\n");
         /* create intermediate blit images */
         for(i = 0; i < swapchain->n_images; ++i){
@@ -2036,7 +2310,7 @@ static VkResult init_blit_images(VkDevice device, struct VkSwapchainKHR_T *swapc
             imageInfo.extent.depth = 1;
             imageInfo.mipLevels = 1;
             imageInfo.arrayLayers = 1;
-            imageInfo.format = VK_FORMAT_R8G8B8A8_UNORM;
+            imageInfo.format = VK_FORMAT_B8G8R8A8_UNORM;
             imageInfo.tiling = VK_IMAGE_TILING_OPTIMAL;
             imageInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;
             imageInfo.usage = VK_IMAGE_USAGE_STORAGE_BIT | VK_IMAGE_USAGE_TRANSFER_SRC_BIT;
@@ -2108,8 +2382,8 @@ static VkResult init_blit_images(VkDevice device, struct VkSwapchainKHR_T *swapc
         TRACE("blitting directly to swapchain images\n");
 
     shaderInfo.sType = VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO;
-    shaderInfo.codeSize = sizeof(blit_comp_spv);
-    shaderInfo.pCode = blit_comp_spv;
+    shaderInfo.codeSize = swapchain->fs_hack_cas ? sizeof(cas_comp_spv) : sizeof(blit_comp_spv);
+    shaderInfo.pCode = swapchain->fs_hack_cas ? cas_comp_spv : blit_comp_spv;
 
     res = device->funcs.p_vkCreateShaderModule(device->device, &shaderInfo, NULL, &shaderModule);
     if(res != VK_SUCCESS){
@@ -2124,7 +2398,7 @@ static VkResult init_blit_images(VkDevice device, struct VkSwapchainKHR_T *swapc
         viewInfo.sType = VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO;
         viewInfo.image = hack->blit_image ? hack->blit_image : hack->swapchain_image;
         viewInfo.viewType = VK_IMAGE_VIEW_TYPE_2D;
-        viewInfo.format = VK_FORMAT_R8G8B8A8_UNORM;
+        viewInfo.format = VK_FORMAT_B8G8R8A8_UNORM;
         viewInfo.subresourceRange.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;
         viewInfo.subresourceRange.baseMipLevel = 0;
         viewInfo.subresourceRange.levelCount = 1;
@@ -2587,7 +2861,7 @@ VkResult WINAPI wine_vkQueuePresentKHR(VkQueue queue, const VkPresentInfoKHR *pP
                     return VK_ERROR_DEVICE_LOST;
                 }
 
-                if(queue->device->queue_props[queue_idx].queueFlags & VK_QUEUE_GRAPHICS_BIT)
+                if((queue->device->queue_props[queue_idx].queueFlags & VK_QUEUE_GRAPHICS_BIT) && !swapchain->fs_hack_cas)
                     res = record_graphics_cmd(queue->device, swapchain, hack);
                 else if(queue->device->queue_props[queue_idx].queueFlags & VK_QUEUE_COMPUTE_BIT)
                     res = record_compute_cmd(queue->device, swapchain, hack);
diff --git a/dlls/winevulkan/vulkan_private.h b/dlls/winevulkan/vulkan_private.h
index 00626eff1e3..371b37868a4 100644
--- a/dlls/winevulkan/vulkan_private.h
+++ b/dlls/winevulkan/vulkan_private.h
@@ -160,12 +160,15 @@ struct VkSwapchainKHR_T
     VkExtent2D user_extent;
     VkExtent2D real_extent;
     VkImageUsageFlags surface_usage;
+    VkFormat swapchain_format;
     VkRect2D blit_dst;
     VkCommandPool *cmd_pools; /* VkCommandPool[device->max_queue_families] */
     VkDeviceMemory user_image_memory, blit_image_memory;
     uint32_t n_images;
     struct fs_hack_image *fs_hack_images; /* struct fs_hack_image[n_images] */
     VkFilter fs_hack_filter;
+    BOOL fs_hack_cas;
+    float fs_hack_cas_sharpness;
     VkSampler sampler;
     VkDescriptorPool descriptor_pool;
     VkDescriptorSetLayout descriptor_set_layout;
diff --git a/dlls/winex11.drv/settings.c b/dlls/winex11.drv/settings.c
index b9cefa45bae..d07d7e140e0 100644
--- a/dlls/winex11.drv/settings.c
+++ b/dlls/winex11.drv/settings.c
@@ -294,6 +294,17 @@ BOOL fs_hack_is_integer(void)
     return is_int;
 }
 
+BOOL fs_hack_is_cas(void)
+{
+    static int is_int = -1;
+    if(is_int < 0)
+    {
+        const char *e = getenv("WINE_FULLSCREEN_CAS_SCALING");
+        is_int = e && strcmp(e, "0");
+    }
+    return is_int;
+}
+
 BOOL fs_hack_matches_current_mode(int w, int h)
 {
     return fs_hack_enabled() &&
diff --git a/dlls/winex11.drv/vulkan.c b/dlls/winex11.drv/vulkan.c
index 7b4c39bee31..82806a7f8cd 100644
--- a/dlls/winex11.drv/vulkan.c
+++ b/dlls/winex11.drv/vulkan.c
@@ -545,7 +545,7 @@ static VkResult X11DRV_vkQueuePresentKHR(VkQueue queue, const VkPresentInfoKHR *
 }
 
 static VkBool32 X11DRV_query_fs_hack(VkExtent2D *real_sz, VkExtent2D *user_sz,
-        VkRect2D *dst_blit, VkFilter *filter)
+        VkRect2D *dst_blit, VkFilter *filter, BOOL *cas_scaling)
 {
     if(fs_hack_enabled()){
         POINT real_res = fs_hack_real_mode();
@@ -556,6 +556,9 @@ static VkBool32 X11DRV_query_fs_hack(VkExtent2D *real_sz, VkExtent2D *user_sz,
         if(filter)
             *filter = fs_hack_is_integer() ? VK_FILTER_NEAREST : VK_FILTER_LINEAR;
 
+        if(cas_scaling)
+            *cas_scaling = fs_hack_is_cas();
+
         fs_hack_user_to_real(&scaled_origin);
 
         if(real_sz){
diff --git a/dlls/winex11.drv/x11drv.h b/dlls/winex11.drv/x11drv.h
index bd50805fb61..727bede72f7 100644
--- a/dlls/winex11.drv/x11drv.h
+++ b/dlls/winex11.drv/x11drv.h
@@ -626,6 +626,7 @@ extern void set_wm_hints( struct x11drv_win_data *data ) DECLSPEC_HIDDEN;
 extern BOOL fs_hack_enabled(void) DECLSPEC_HIDDEN;
 extern BOOL fs_hack_mapping_required(void) DECLSPEC_HIDDEN;
 extern BOOL fs_hack_is_integer(void) DECLSPEC_HIDDEN;
+extern BOOL fs_hack_is_cas(void) DECLSPEC_HIDDEN;
 extern BOOL fs_hack_matches_current_mode(int w, int h) DECLSPEC_HIDDEN;
 extern BOOL fs_hack_matches_real_mode(int w, int h) DECLSPEC_HIDDEN;
 extern POINT fs_hack_current_mode(void) DECLSPEC_HIDDEN;
diff --git a/include/wine/vulkan_driver.h b/include/wine/vulkan_driver.h
index 0f2bae9b9ef..20aad62107c 100644
--- a/include/wine/vulkan_driver.h
+++ b/include/wine/vulkan_driver.h
@@ -71,7 +71,7 @@ struct vulkan_funcs
      * resolution; user_sz will contain the app's requested mode; and dst_blit
      * will contain the area to blit the user image to in real coordinates.
      * All parameters are optional. */
-    VkBool32 (*query_fs_hack)(VkExtent2D *real_sz, VkExtent2D *user_sz, VkRect2D *dst_blit, VkFilter *filter);
+    VkBool32 (*query_fs_hack)(VkExtent2D *real_sz, VkExtent2D *user_sz, VkRect2D *dst_blit, VkFilter *filter, BOOL *cas_scaling);
 };
 
 extern const struct vulkan_funcs * CDECL __wine_get_vulkan_driver(HDC hdc, UINT version);
